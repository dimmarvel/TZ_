Проблемы:

1. void client::on_packet(...) - большой свитч который надо будет добавлять -> раздувание функции -> усложнение поддержки -> можем пропустить обработчик.
2. Player* player; - сырой указатель -> утечки -> RAI - база.
3. buy(const Packet&) и params_set(const Packet&) - проверяем баланс и параметры но не проверяем авторизован ли клиент -> UB потому что player может быть nullptr


