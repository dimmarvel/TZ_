Проблемы:

1. void client::on_packet(...) - большой свитч который надо будет добавлять -> раздувание функции -> усложнение поддержки -> можем пропустить обработчик.
2. Player* player; - сырой указатель -> утечки -> RAI - база.
3. buy(const Packet&) и params_set(const Packet&) - проверяем баланс и параметры но не проверяем авторизован ли клиент -> UB потому что player может быть nullptr
4. Еще обычно IO передают по ссылке или shared ptr, но тк я не знаю логики кто им владеет как передается то я считаб лучше оставить так, хотя в 99% случаев лучше обернуть либо ссылкой либо умным указателем, зависит от предназначения, но у меня нет контекста.

